<!-- meta tags and other links -->
{% load static %}

<!DOCTYPE html>
<html lang="en" data-theme="light">

<!-- Mirrored from wowdash.wowtheme7.com/demo/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 01 Jul 2024 09:05:16 GMT -->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SudoTechLabs</title>
  <link rel="icon" type="image/png" href="{% static 'assets/images/logo_new.png' %}" sizes="16x16">
  <!-- remix icon font css  -->
    <link rel="stylesheet" href="{% static 'assets/css/remixicon.css' %}">
  <!-- BootStrap css -->
  <link rel="stylesheet" href="{% static 'assets/css/lib/bootstrap.min.css' %}">
  <!-- Apex Chart css -->
  <link rel="stylesheet" href="{% static 'assets/css/lib/apexcharts.css' %}">
  <!-- Data Table css -->
  <link rel="stylesheet" href="{% static 'assets/css/lib/dataTables.min.css' %}">
  <!-- Text Editor css -->
  <link rel="stylesheet" href="{% static 'assets/css/lib/editor-katex.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/css/lib/editor.atom-one-dark.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/css/lib/editor.quill.snow.css' %}">
  <!-- Date picker css -->
  <link rel="stylesheet" href="{% static 'assets/css/lib/flatpickr.min.css' %}">
  <!-- Calendar css -->
  <link rel="stylesheet" href="{% static 'assets/css/lib/full-calendar.css' %}">
  <!-- Vector Map css -->
  <link rel="stylesheet" href="{% static 'assets/css/lib/jquery-jvectormap-2.0.5.css' %}">
  <!-- Popup css -->
  <link rel="stylesheet" href="{% static 'assets/css/lib/magnific-popup.css' %}">
  <!-- Slick Slider css -->
  <link rel="stylesheet" href="{% static 'assets/css/lib/slick.css' %}">
  <!-- main css -->
  <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <style>
    [data-theme=dark] .sidebar-logo img.light-logo {
      display: block !important;
  }
  .sidebar-hidden {
        display: none;
    }
  </style>
</head>
<body>
    <aside class="sidebar" id="sidebar">
      <button type="button" class="sidebar-close-btn">
        <iconify-icon icon="radix-icons:cross-2"></iconify-icon>
      </button>
      <div>
        <a href="{% url 'leads' %}" class="sidebar-logo">
          <img src="{% static 'company_logo.jpg' %}" alt="site logo" class="light-logo">
          <b style="color: #333; transition: color 0.3s ease; font-size: 1.07em;" onmouseover="this.style.color='BLUE'"
          onmouseout="this.style.color='#333'">
          SudoTechLabs 
        </b>
          {% comment %} <img src="{% static 'assets/images/logo-light.png' %}" alt="site logo" class="dark-logo">
          <img src="{% static 'assets/images/logo-icon.png' %}" alt="site logo" class="logo-icon"> {% endcomment %}
        </a>
      </div>
      <div class="sidebar-menu-area">
        <ul class="sidebar-menu" id="sidebar-menu">
          {% comment %} <li class="dropdown">
            <a class="a1" href="{% url '' %}" aria-expanded="false">
              <span class="d-flex">
                <i class="ti ti-chart-donut-3"></i>
              </span>
              <span class="hide-menu">Dashboard</span>
            </a>
          </li>   {% endcomment %}

          <li class="mb-2">
            <a href="{% url 'leads' %}">
              <iconify-icon icon="solar:home-smile-angle-outline" class="menu-icon"></iconify-icon>
              <span>Dashboard</span>
            </a>
          </li>

          <li class="dropdown">
            <a href="javascript:void(0)">
              <iconify-icon icon="solar:home-smile-angle-outline" class="menu-icon"></iconify-icon>
              <span>Leads Report</span>
            </a>
            <ul class="sidebar-submenu">
              <li><a href="{% url 'lost_leads' %}">
              <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i>Intrested</a>
              </li>
              <li><a href="{% url 'customer' %}">
                <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i>Not Interested</a>
              </li>
              <li><a href="{% url 'maybe' %}">
                <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i>Other Location</a>
              </li>
                <li><a href="{% url 'not_picked' %}">
                  <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i>Not Picked</a>
                </li>
                <li><a href="{% url 'lost' %}">
                  <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i>Lost</a>
                </li>
            </ul>
          </li>
         
          <li class="dropdown">
            <a href="javascript:void(0)">
              <iconify-icon icon="solar:home-smile-angle-outline" class="menu-icon"></iconify-icon>
              <span>Marketing</span>
            </a>
            <ul class="sidebar-submenu">
              <li><button
                type="button"
                class=""
                data-bs-toggle="modal"
                data-bs-target="#basicModal"
                onClick="editUser('whatsapp', '{{request.user}}')"
              >
              <i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Whatsapp
              </button>
              </li>
              <li><button
                type="button"
                class=""
                data-bs-toggle="modal"
                data-bs-target="#basicModal"
                onClick="editUser('google', '{{request.user}}')"
              ><i class="ri-circle-fill circle-icon text-warning-main w-auto"></i> Google</button>
              </li>
              <li><button
                type="button"
                class=""
                data-bs-toggle="modal"
                data-bs-target="#basicModal"
                onClick="editUser('facebook', '{{request.user}}')"
              ><i class="ri-circle-fill circle-icon text-info-main w-auto"></i> Facebook</button>
              </li>
              <li><button
                type="button"
                class=""
                data-bs-toggle="modal"
                data-bs-target="#basicModal"
                onClick="editUser('linkedin', '{{request.user}}')"
              ><i class="ri-circle-fill circle-icon text-danger-main w-auto"></i> Linked In</button>
              </li>
            </ul>
          </li>

          <li class="mb-2">
            <a href="{% url 'activitylogs' %}">
              <iconify-icon icon="solar:home-smile-angle-outline" class="menu-icon"></iconify-icon>
              <span>Time Sheet</span>
            </a>
          </li>
          <li class="mb-2">
            <a href="{% url 'project' %}">
              <iconify-icon icon="solar:home-smile-angle-outline" class="menu-icon"></iconify-icon>
              <span>Project</span>
            </a>
          </li>
            </ul>
          </li>
        </ul>
      </div>
    </aside>
    <main class="dashboard-main">


  <div class="navbar-header">
  <div class="row align-items-center justify-content-between">
    <!-- Left Side: Sidebar Toggles -->
    <div class="col-auto d-flex align-items-center gap-4">
      <button type="button" class="sidebar-toggle">
        <iconify-icon icon="heroicons:bars-3-solid" class="icon text-2xl non-active"></iconify-icon>
        <iconify-icon icon="iconoir:arrow-right" class="icon text-2xl active"></iconify-icon>
      </button>
      <button type="button" class="sidebar-mobile-toggle">
        <iconify-icon icon="heroicons:bars-3-solid" class="icon"></iconify-icon>
      </button>
    </div>

    <!-- Center: Title or Logo -->
    <div class="col text-center">
      <a href="{% url 'leads' %}" class="d-block">
        <b style="color: #333; transition: color 0.3s ease; font-size: 1.07em;" 
           onmouseover="this.style.color='BLUE'"
           onmouseout="this.style.color='#333'">
          SudoTechLabs
        </b>
      </a>
    </div>

    <!-- Right Side: Theme Toggle, Notifications, Profile Dropdown -->
    <div class="col-auto d-flex align-items-center gap-3">
      <button type="button" data-theme-toggle class="w-40-px h-40-px bg-neutral-200 rounded-circle d-flex justify-content-center align-items-center"></button>

      <div class="dropdown">
        <button class="has-indicator w-40-px h-40-px bg-neutral-200 rounded-circle d-flex justify-content-center align-items-center" type="button" data-bs-toggle="dropdown">
          <iconify-icon icon="iconoir:bell" class="text-primary-light text-xl"></iconify-icon>
        </button>
        <div class="dropdown-menu to-top dropdown-menu-lg p-0">
          <div class="m-16 py-12 px-16 radius-8 bg-primary-50 mb-16 d-flex align-items-center justify-content-between gap-2">
            <div>
              <h6 class="text-lg text-primary-light fw-semibold mb-0">Notifications</h6>
            </div>
            <span class="text-primary-600 fw-semibold text-lg w-40-px h-40-px rounded-circle bg-base d-flex justify-content-center align-items-center">05</span>
          </div>
          <div class="text-center py-12 px-16">
            <a href="javascript:void(0)" class="text-primary-600 fw-semibold text-md">See All Notification</a>
          </div>
        </div>
      </div><!-- Notification dropdown end -->

      <div class="dropdown">
        <button class="d-flex justify-content-center align-items-center rounded-circle" type="button" data-bs-toggle="dropdown">
          <p class="fs-6 mb-0">Welcome {{ request.user.name }}</p>
          {% comment %} <img src="{% static 'assets/images/user.png' %}" alt="image" class="w-40-px h-40-px object-fit-cover rounded-circle"> {% endcomment %}
        </button>
        <div class="dropdown-menu to-top dropdown-menu-sm">
          <div class="py-12 px-16 radius-8 bg-primary-50 mb-16 d-flex align-items-center justify-content-between gap-2">
            <div>
              <h6 class="text-lg text-primary-light fw-semibold mb-0">{{ request.user.name }}</h6>
              {% comment %} <span class="text-secondary-light fw-medium text-sm">Admin</span> {% endcomment %}
            </div>
            <button type="button" class="hover-text-danger">
              <iconify-icon icon="radix-icons:cross-1" class="icon text-xl"></iconify-icon> 
            </button>
          </div>
          <ul class="to-top-list">
            <li>
              <a class="dropdown-item text-black px-0 py-8 hover-bg-transparent hover-text-primary d-flex align-items-center gap-3" href="{% url 'staff_view_profile' %}"> 
              <iconify-icon icon="solar:user-linear" class="icon text-xl"></iconify-icon>  My Profile</a>
            </li>
            <li>
              <a class="dropdown-item text-black px-0 py-8 hover-bg-transparent hover-text-danger d-flex align-items-center gap-3" href="{% url 'logout' %}"> 
              <iconify-icon icon="lucide:power" class="icon text-xl"></iconify-icon>  Log Out</a>
            </li>
          </ul>
        </div>
      </div><!-- Profile dropdown end -->
    </div>
  </div>
</div>



{% block content %}

{% endblock %}


  <footer class="d-footer">
  <div class="row align-items-center justify-content-between">
    <div class="col-auto">
      <p class="mb-0">Address: F-block, 3/22, Prabhati Marg, Kanak enclave, Jaipur, Rajasthan</p>
    </div>
    
  </div>
</footer>
</main>

    <!-- Modal -->
    <div class="modal fade" id="basicModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel1">Marketing</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form action="">
            <div class="row">
              <div class="col mb-3">
                <input type="text" name="source", id="form-source" hidden>
                <label for="nameBasic" class="form-label">Message</label>
                <input type="text" id="form-message" value="" name="message" class="form-control" placeholder="Enter Message" />
              </div>
            </div>
            <div class="row">
              <div class="col mb-3">
                <label for="nameBasic" class="form-label">URL</label>
                <input type="text" id="form-url" name="url" class="form-control" placeholder="Enter url" />
              </div>
            </div>
            <div class="row">
              <div class="col mb-3">
                <label for="nameBasic" class="form-label">Media File</label>
                <input type="file" id="form-media" name="media_file" class="form-control" placeholder="select media file" />
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
              Close
            </button>
            <button type="submit" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </form>
      </div>
    </div>
  
  <!-- jQuery library js -->
  <script src="{% static 'assets/js/lib/jquery-3.7.1.min.js' %}"></script>
  <!-- Bootstrap js -->
  <script src="{% static 'assets/js/lib/bootstrap.bundle.min.js' %}"></script>
  <!-- Apex Chart js -->
  <script src="{% static 'assets/js/lib/apexcharts.min.js' %}"></script>
  <!-- Data Table js -->
  <script src="{% static 'assets/js/lib/dataTables.min.js' %}"></script>
  <!-- Iconify Font js -->
  <script src="{% static 'assets/js/lib/iconify-icon.min.js' %}"></script>
  <!-- jQuery UI js -->
  <script src="{% static 'assets/js/lib/jquery-ui.min.js' %}"></script>
  <!-- Vector Map js -->
  <script src="{% static 'assets/js/lib/jquery-jvectormap-2.0.5.min.js' %}"></script>
  <script src="{% static 'assets/js/lib/jquery-jvectormap-world-mill-en.js' %}"></script>
  <!-- Popup js -->
  <script src="{% static 'assets/js/lib/magnifc-popup.min.js' %}"></script>
  <!-- Slick Slider js -->
  <script src="{% static 'assets/js/lib/slick.min.js' %}"></script>
  <!-- main js -->
  <script src="{% static 'assets/js/app.js' %}"></script>

<script src="{% static 'assets/js/homeOneChart.js' %}"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
      const sidebarToggleBtn = document.querySelector(".sidebar-toggle");
      const sidebar = document.getElementById("sidebar");

      sidebarToggleBtn.addEventListener("click", function() {
          sidebar.classList.toggle("sidebar-hidden");
      });
  });

  function editUser(source, user) {    
    $.ajax({
        url: `/edit-marketing/${source}/`,
        type: 'GET',
        success: function(data) {            
            $('#form-source').val(data.source);
            $('#form-url').val(data.url);
            $('#form-message').val(data.message);
            $('#form-media').val(data.media_file);
            
            $('#basicModal').modal('show');
        }
    });
}


  $('#basicModal form').on('submit', function(e) {
    e.preventDefault();
    const data = {
        // id: $('#form-id').val(),
        source: $('#form-source').val(),
        message: $('#form-message').val(),
        url: $('#form-url').val(),
        media_file: $('#form-media').val(),
    };

    $.ajax({
        url: `/update-record/`,
        type: 'POST',
        contentType: 'application/json',
        data: JSON.stringify(data),
        headers: {
            'X-CSRFToken': '{{ csrf_token }}'
        },
        success: function(response) {
            if (response.status === "200") {
                $('#basicModal').modal('hide');
                alert(response.message)
                location.reload(); // Refresh the page to reflect changes
            }else{
                alert(response.message)
            }
            // $('#exampleModal').modal('hide');
            // alert(response.message)
            // location.reload(); // Refresh the page to reflect changes
        },
        error: function(response) {
            alert('An error occurred. Please try again.');
        }
    });
});
</script>

</body>

<!-- Mirrored from wowdash.wowtheme7.com/demo/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 01 Jul 2024 09:05:52 GMT -->
</html>